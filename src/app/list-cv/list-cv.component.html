<app-leftsidebar [isActive]="'tache'"></app-leftsidebar>

<div class="page">
    <div id="page_top" class="section-body">
        <div class="container-fluid">
            <div class="page-header">
                <div class="left">
                    <a href="/taches" class="btn btn-icon-toggle btn-default btn-icon"><i
                            class="fa fa-arrow-left"></i></a>
                </div>
                <h1 class="page-title">Liste des CVs</h1>
                <div class="right">
                    <div class="input-icon xs-hide">
                        <input type="text" class="form-control" placeholder="Search for...">
                        <span class="input-icon-addon"><i class="fa fa-search"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="page-content">
        <div class="container-fluid text-right mt-2 d-flex justify-content-end" >
           
                <button class="btn btn-primary " style="margin-right: 10px;" *ngIf="utilisateur.role =='RH'" (click)="ajouterCv()">Ajouter CV</button>
                <button class="btn btn-primary" *ngIf="listCandidats.length && utilisateur.role =='RH'" (click)="envoyerCvmanager(demandeId)">Envoyer CV</button>
                <button class="btn btn-primary" *ngIf="listCandidats.length" (click)="envoyerCvrh()" >Envoyer CV</button>
       
        </div>
        <div class="container-fluid mt-3">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-vcenter">
                            <thead>
                                <tr>
                                    <th class="text-center" *ngIf="utilisateur.role !='RH'">#</th>
                                    <th class="text-center">Nom</th>
                                    <th class="text-center">Prénom</th>
                                    <th class="text-center">Email</th>
                                    <th class="text-center">Téléphone</th>
                                    <th class="text-center">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let candidat of listCandidats">
                                    <td class="text-center" *ngIf="utilisateur.role !='RH'">
                                        <div class="custom-control custom-checkbox">
                                            <!-- click on checkbox -->

                                            <input type="checkbox" class="custom-control-input" id="customCheck1" (click)="selectCandidat($event,candidat.id)" >
                                            <label class="custom-control-label" for="customCheck1"></label>
                                        </div>
                                    </td>
                                    <td class="text-center">{{candidat.nom}}</td>
                                    <td class="text-center">{{candidat.prenom}}</td>
                                    <td class="text-center">{{candidat.email}}</td>
                                    <td class="text-center">{{candidat.telephone}}</td>
                                    <td class="text-center">
                                        <button class="btn btn-icon "><i class="fa fa-eye"></i></button>
                                        <button class="btn btn-icon "><i class="fa fa-trash"
                                                *ngIf="utilisateur.role =='RH'"></i></button>
                                                <!-- icon commentaire -->
                                        <button class="btn btn-icon "><i class="fa fa-comment" *ngIf="utilisateur.role =='Manager'"></i></button>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>